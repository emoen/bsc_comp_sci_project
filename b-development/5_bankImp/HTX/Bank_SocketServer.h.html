<HTML>
<HEAD>
  <META NAME="Author" CONTENT="B-Toolkit Release 5.1.4">
  <META NAME="Description" CONTENT="Hypertext version of Bank_SocketServer.h Code Module">
  <TITLE>Bank_SocketServer.h Code Module</TITLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#CCCCCC" LINK="#2A9BFF" VLINK="#FF6565" ALINK="#FF0000">
<PRE>
<B>#include</B> &lt;sys/types.h&gt;
<B>#include</B> &lt;sys/file.h&gt;
<B>#include</B> &lt;sys/stat.h&gt;
<B>#include</B> &lt;sys/signal.h&gt;
<B>#include</B> &lt;sys/socket.h&gt;
<B>#include</B> &lt;sys/resource.h&gt;
<B>#include</B> &lt;sys/wait.h&gt;
<B>#include</B> &lt;sys/time.h&gt;
<B>#include</B> &lt;sys/utsname.h&gt;
<B>#include</B> &lt;sys/ioctl.h&gt;
<B>#include</B> &lt;netinet/in.h&gt;
<B>#include</B> &lt;arpa/inet.h&gt;
<B>#include</B> &lt;fcntl.h&gt;
<B>#include</B> &lt;netdb.h&gt;
<B>#include</B> &lt;syslog.h&gt;
<B>#include</B> &lt;unistd.h&gt;
<B>#include</B> &lt;stdio.h&gt;
<B>#include</B> &lt;stdlib.h&gt;
<B>#include</B> &lt;string.h&gt;
<B>#include</B> &lt;signal.h&gt;
<B>#include</B> &lt;errno.h&gt;

<B>#ifndef</B> LOCK_EX
<B>#define</B> LOCK_EX 2
<B>#endif</B> /* LOCK_EX - exclusive lock */

<B>#ifndef</B> LOCK_NB
<B>#define</B> LOCK_NB 4
<B>#endif</B> /* LOCK_NB - Don't block when locking */



<B>extern</B> <B>char</B> * Bank_SocketServerP1<B>[</B><B>]</B>;
<B>extern</B> <B>int</B> Bank_SocketServerP2;
<B>extern</B> <B>int</B> Bank_SocketServerP3;

<B>extern</B> <B>char</B> * _out_buf;
<B>extern</B> long <B>int</B> _out_buf_size;
<B>extern</B> long <B>int</B> _out_buf_ptr;

<B>extern</B> <B>char</B> * _in_buf;
<B>extern</B> long <B>int</B> _in_buf_size;
<B>extern</B> long <B>int</B> _in_buf_ptr;
<B>extern</B> long <B>int</B> _in_buf_len;

<B>extern</B> <B>int</B> _num_sav;
<B>extern</B> <B>char</B> _sav_buf [];
<B>extern</B> long <B>int</B> _sav_buf_ptr;

<B>extern</B> <B>char</B> * malloc_buf;
<B>extern</B> long <B>int</B> malloc_buf_len;
<B>extern</B> long <B>int</B> malloc_buf_ptr;
<B>extern</B> long <B>int</B> malloc_done;

<B>#define</B> <A NAME="OPNAME!INI_Bank_SocketServer"><A HREF="Bank_SocketServer.mch.html">INI_Bank_SocketServer</A></A>()   <B>{</B> _out_buf_ptr = 4; _in_buf_ptr = 4; <B>}</B>

<B>void</B> <A NAME="OPNAME!Bank_INIT"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_INIT">Bank_INIT</A></A> ( <B>int</B> * _rep, <B>void</B> * _lockfile, <B>int</B> _port , <B>void</B> * _bufsavefile );
<B>void</B> <A NAME="OPNAME!Bank_ACCEPT"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_ACCEPT">Bank_ACCEPT</A></A> ( <B>int</B> * _rep );
<B>void</B> <A NAME="OPNAME!Bank_READ"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_READ">Bank_READ</A></A> ( <B>int</B> * _rep, <B>int</B> * _pp );
<B>void</B> <A NAME="OPNAME!Bank_WRITE"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_WRITE">Bank_WRITE</A></A> ( <B>int</B> * _rep );
<B>void</B> <A NAME="OPNAME!Bank_CLOSE"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_CLOSE">Bank_CLOSE</A></A> ( <B>int</B> * _rep );
<B>void</B> <A NAME="OPNAME!Bank_GET_TOK"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_GET_TOK">Bank_GET_TOK</A></A> ( <B>int</B> * _tok, <B>int</B> _toksize );
<B>void</B> <A NAME="OPNAME!Bank_GET_STR"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_GET_STR">Bank_GET_STR</A></A> ( <B>int</B> * _ss );
<B>void</B> <A NAME="OPNAME!Bank_PUT_TOK"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_PUT_TOK">Bank_PUT_TOK</A></A> ( <B>int</B> _tok, <B>int</B> _toksize );
<B>void</B> <A NAME="OPNAME!Bank_PUT_STR"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_PUT_STR">Bank_PUT_STR</A></A> ( <B>int</B> * _ss );
<B>void</B> <A NAME="OPNAME!Bank_SET_IN_PTR"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_SET_IN_PTR">Bank_SET_IN_PTR</A></A> ( <B>int</B> _ptr );
<B>void</B> <A NAME="OPNAME!Bank_GET_IN_PTR"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_GET_IN_PTR">Bank_GET_IN_PTR</A></A> ( <B>int</B> * _ptr );
<B>void</B> <A NAME="OPNAME!Bank_SET_OUT_PTR"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_SET_OUT_PTR">Bank_SET_OUT_PTR</A></A> ( <B>int</B> _ptr );
<B>void</B> <A NAME="OPNAME!Bank_GET_OUT_PTR"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_GET_OUT_PTR">Bank_GET_OUT_PTR</A></A> ( <B>int</B> * _ptr );
<B>void</B> <A NAME="OPNAME!Bank_GET_OUT_SIZE"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_GET_OUT_SIZE">Bank_GET_OUT_SIZE</A></A> ( <B>int</B> * _sz );
<B>void</B> <A NAME="OPNAME!Bank_PUT_FILE"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_PUT_FILE">Bank_PUT_FILE</A></A> ( <B>int</B> * _rep, <B>void</B> * _filename );
<B>void</B> <A NAME="OPNAME!Bank_SAV_BUF"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_SAV_BUF">Bank_SAV_BUF</A></A> ( <B>int</B> * _rep, <B>int</B> * _num_saves );
<B>void</B> <A NAME="OPNAME!Bank_SAV_RMV"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_SAV_RMV">Bank_SAV_RMV</A></A> ( <B>void</B> );
<B>void</B> <A NAME="OPNAME!Bank_RST_BUF"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_RST_BUF">Bank_RST_BUF</A></A> ( <B>int</B> * _rep );
<B>void</B> <A NAME="OPNAME!Bank_NXT_BUF"><A HREF="Bank_SocketServer.mch.html#OPNAME!Bank_NXT_BUF">Bank_NXT_BUF</A></A> ( <B>int</B> * _rep );
</PRE>
<P><HR>
<P>
<H3><FONT COLOR="#004EFF">Analysed Constructs</FONT></H3>

<MENU>
<DD><A HREF="ConstructsSummary.html">Hypertext Constructs Page</A></DD>
</MENU>

<H3><FONT COLOR="#004EFF">On-line Help</FONT></H3>

<MENU>
<DD><A HREF="/home/moen/BT_5.1.4_Linux_stat_i586/BKIT/BHELP/Contents.html">Help Contents Page</A>
<DD><A HREF="/home/moen/BT_5.1.4_Linux_stat_i586/BKIT/BHELP/Index.html">Index</A></DD>
</MENU>
<CENTER>
<HR  WIDTH=33% SIZE=2 COLOR="#CF6500" NOSHADE>
<FONT FACE="sans-serif, Arial, Helvetica"><FONT COLOR="#CF6500"><FONT SIZE=-2>Document Last Updated: Fri Feb 28 20:13:57 2003
<BR>
<IMG SRC="/home/moen/BT_5.1.4_Linux_stat_i586/BKIT/BHELP/B.gif" VSPACE=5><BR>B-Toolkit Release 5.1.4</FONT></FONT></FONT>
<CENTER>
<HR  WIDTH=33% SIZE=2 COLOR="#CF6500" NOSHADE>
</CENTER>
</BODY>
</HTML>
